
@model IEnumerable<Computer_Accessories_Shop.Data.Model.Product>

@{
	ViewData["Title"] = "سبد خرید";
	Layout = "../shared/_layout.cshtml";
	var totalPrice = 0.0;
}


		<main class="main">
			<div class="page-header text-center" style="background-image: url('assets/images/page-header-bg.jpg')">
				<div class="container">
					<h1 class="page-title">سبد خرید<span>فروشگاه</span></h1>
				</div><!-- End .container -->
			</div>
			<nav aria-label="breadcrumb" class="breadcrumb-nav">
				<div class="container">
					<ol class="breadcrumb">
						<li class="breadcrumb-item"><a href="/">خانه</a></li>
						<li class="breadcrumb-item active" aria-current="page">سبد خرید</li>
					</ol>
				</div>
			</nav>

			<div class="page-content">
				<div class="cart">
					<div class="container">
						<div class="row">
					@if (Model.Any())
					{
						
							<div class="col-lg-9">
								<table class="table table-cart table-mobile">
									<thead>
										<tr>
											<th>محصول</th>
											<th>قیمت</th>
											<th>مجموع</th>
											<th></th>
										</tr>
									</thead>

									<tbody>
										@foreach (var item in Model)
									   {
										totalPrice +=item.Price;
										<tr>
											<td class="product-col">
												<div class="product">
													<figure class="product-media">
														<a href="/Product/Detail/@item.ID">
															<img src="/UploadedFiles/Images/@item.Image"
                                                                alt="@item.Title">
														</a>
													</figure>

													<h3 class="product-title">
														<a href="/Product/Detail/@item.ID">@item.Title</a>
													</h3>
												</div>
											</td>
											<td class="price-col">@item.Price
											تومان
											</td>
											<td class="total-col">@totalPrice
											تومان
											</td>
										</tr>
									   }
									</tbody>
								</table>

							</div>
							<aside class="col-lg-3">
								<div class="summary summary-cart">
									<h3 class="summary-title">جمع سبد خرید</h3>

									<table class="table table-summary">
										<tbody>
											<tr class="summary-subtotal">
												<td>جمع کل سبد خرید : </td>
												<td class="text-left">@totalPrice
													تومان</td>
											</tr>
											<tr class="summary-shipping">
												<td>شیوه ارسال : </td>
												<td>&nbsp;</td>
											</tr>

											<tr class="summary-shipping-row">
												<td>
													<div class="custom-control custom-radio">
														<input type="radio" id="free-shipping" name="shipping"
                                                            class="custom-control-input">
														<label class="custom-control-label" for="free-shipping">ارسال
															رایگان</label>
													</div>
												</td>
												<td class="text-left">0,000 تومان</td>
											</tr>

											<tr class="summary-total">
												<td>مبلغ قابل پرداخت :</td>
												<td class="text-left">
													@totalPrice
													تومان</td>
											</tr>
										</tbody>
									</table>

									<a href="/Product/checkout" class="btn btn-outline-primary-2 btn-order btn-block">رفتن
										به صفحه پرداخت</a>
								</div>

								<a href="/" class="btn btn-outline-dark-2 btn-block mb-3"><span>ادامه
										خرید</span><i class="icon-refresh"></i></a>
							</aside>
					}
					else
					{
					<h5 class="d-flex justify-content-center text-center text-danger">
						سبد خرید خالی است
					</h5>	
					}
				</div>
					</div>
				</div>
			</div>
		</main>
